<script setup lang="ts">
import { useIdentityPasswordLogout, useAuthState } from '@vueauth/core'

const { logout, loading, hasErrors, errors } = useIdentityPasswordLogout()
const { isAuthenticated } = useAuthState()
</script>

<template>
  <!-- Sign Out Button -->
  <button
    v-if="!loading"
    :disabled="!isAuthenticated"
    @click="logout"
  >
    Sign Out
  </button>

  <!-- Loading -->
  <div v-else>
    loading
  </div>

  <div v-if="isAuthenticated">
    Authenticated
  </div>
  <div v-else>
    UnAuthenticated
  </div>

  <div v-if="hasErrors">
    <h2>Errors</h2>
    <pre>{{ errors }}</pre>
  </div>
</template>
